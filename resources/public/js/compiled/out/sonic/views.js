// Compiled by ClojureScript 1.10.238 {}
goog.provide('sonic.views');
goog.require('cljs.core');
goog.require('re_frame.core');
goog.require('sonic.subs');
goog.require('sonic.events');
sonic.views.actionDisabled_QMARK_ = (function sonic$views$actionDisabled_QMARK_(text,requiredSystem){
if(cljs.core.truth_((function (){var or__3922__auto__ = (function (){var and__3911__auto__ = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firing?","firing?",-1865348313)], null)));
if(cljs.core.truth_(and__3911__auto__)){
return ((cljs.core.not_EQ_.call(null,text,"Fire Lasers")) && (cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firingType","firingType",5090382)], null))),new cljs.core.Keyword(null,"lasers","lasers",-427107788))));
} else {
return and__3911__auto__;
}
})();
if(cljs.core.truth_(or__3922__auto__)){
return or__3922__auto__;
} else {
var or__3922__auto____$1 = (function (){var and__3911__auto__ = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firing?","firing?",-1865348313)], null)));
if(cljs.core.truth_(and__3911__auto__)){
return ((cljs.core.not_EQ_.call(null,text,"Launch Missiles")) && (cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firingType","firingType",5090382)], null))),new cljs.core.Keyword(null,"missiles","missiles",-600699149))));
} else {
return and__3911__auto__;
}
})();
if(cljs.core.truth_(or__3922__auto____$1)){
return or__3922__auto____$1;
} else {
var or__3922__auto____$2 = cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phase","phase",575722892)], null))),(1));
if(or__3922__auto____$2){
return or__3922__auto____$2;
} else {
return sonic.events.systemDisabled_QMARK_.call(null,requiredSystem,new cljs.core.Keyword(null,"playerShip","playerShip",2104484));
}
}
}
})())){
return true;
} else {
return false;
}
});
sonic.views.actionButton = (function sonic$views$actionButton(requiredSystem,event,text){
return (function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.action","button.action",-1043526280),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),sonic.events.actionDispatch.call(null,event),new cljs.core.Keyword(null,"disabled","disabled",-1529784218),sonic.views.actionDisabled_QMARK_.call(null,text,requiredSystem)], null),text], null);
});
});
sonic.views.shipVitalityDisplay = (function sonic$views$shipVitalityDisplay(value,text){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea.vitalityDisplay","textarea.vitalityDisplay",1455253841),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"value","value",305978217),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(text),": ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(value)].join(''),new cljs.core.Keyword(null,"readOnly","readOnly",-1749118317),true], null)], null);
});
sonic.views.systemButton = (function sonic$views$systemButton(system,type,text){
var firing_QMARK_ = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firing?","firing?",-1865348313)], null)));
var ship = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [type], null)));
var systemRank = cljs.core.get.call(null,system.call(null,new cljs.core.Keyword(null,"systems","systems",-1015374944).cljs$core$IFn$_invoke$arity$1(ship)),(1));
var systemHP = cljs.core.get.call(null,system.call(null,new cljs.core.Keyword(null,"systems","systems",-1015374944).cljs$core$IFn$_invoke$arity$1(ship)),(0));
var shieldedStatus = (((new cljs.core.Keyword(null,"shields","shields",-295786721).cljs$core$IFn$_invoke$arity$1(ship) > (0)))?"lightblue":"orange");
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"button.system","button.system",680182481),((cljs.core._EQ_.call(null,type,new cljs.core.Keyword(null,"playerShip","playerShip",2104484)))?new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"disabled","disabled",-1529784218),(function (){var or__3922__auto__ = firing_QMARK_;
if(cljs.core.truth_(or__3922__auto__)){
return or__3922__auto__;
} else {
return sonic.events.systemDisabled_QMARK_.call(null,system,type);
}
})(),new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),shieldedStatus], null)], null):(cljs.core.truth_(firing_QMARK_)?new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),sonic.events.damageDispatch.call(null,system,type,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firingType","firingType",5090382)], null)))),new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),shieldedStatus], null)], null):new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (firing_QMARK_,ship,systemRank,systemHP,shieldedStatus){
return (function (){
return re_frame.core.dispatch.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"doNothing","doNothing",-1412297874)], null));
});})(firing_QMARK_,ship,systemRank,systemHP,shieldedStatus))
,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"background-color","background-color",570434026),shieldedStatus], null)], null))),["Rank ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(systemRank)," ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(text)," (",cljs.core.str.cljs$core$IFn$_invoke$arity$1(systemHP)," HP)"].join('')], null);
});
sonic.views.main_panel = (function sonic$views$main_panel(){
var playerHP = new cljs.core.Keyword(null,"HP","HP",-457348996).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"playerShip","playerShip",2104484)], null))));
var playerShields = new cljs.core.Keyword(null,"shields","shields",-295786721).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"playerShip","playerShip",2104484)], null))));
var enemyHP = new cljs.core.Keyword(null,"HP","HP",-457348996).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690)], null))));
var enemyShields = new cljs.core.Keyword(null,"shields","shields",-295786721).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690)], null))));
var enemySystems = new cljs.core.Keyword(null,"systems","systems",-1015374944).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690)], null))));
var playerSystems = new cljs.core.Keyword(null,"systems","systems",-1015374944).cljs$core$IFn$_invoke$arity$1(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"playerShip","playerShip",2104484)], null))));
var turn = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"turn","turn",75759344)], null)));
var phase = ((cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phase","phase",575722892)], null))),(0)))?cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"playerName","playerName",1504328524)], null))):"Enemy");
var firingMode = ((cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firing?","firing?",-1865348313)], null))),false))?"Inactive":"Active");
var gameOver_QMARK_ = cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"gameOver?","gameOver?",-425708201)], null)));
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fieldset","fieldset",-1949770816),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"disabled","disabled",-1529784218),gameOver_QMARK_], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flexContainer","div.flexContainer",429989333),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.infoDisplayArea","div.infoDisplayArea",378209176),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea.infoDisplay","textarea.infoDisplay",1088618102),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"value","value",305978217),(cljs.core.truth_(gameOver_QMARK_)?"Game Over!":[cljs.core.str.cljs$core$IFn$_invoke$arity$1(phase),"'s Turn"].join('')),new cljs.core.Keyword(null,"readOnly","readOnly",-1749118317),true,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),((cljs.core._EQ_.call(null,cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"phase","phase",575722892)], null))),(0)))?"blue":"red")], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea.infoDisplay","textarea.infoDisplay",1088618102),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"value","value",305978217),["Turn #: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(turn)].join(''),new cljs.core.Keyword(null,"readOnly","readOnly",-1749118317),true], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"textarea.infoDisplay","textarea.infoDisplay",1088618102),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"value","value",305978217),["Firing Mode: ",cljs.core.str.cljs$core$IFn$_invoke$arity$1(firingMode)].join(''),new cljs.core.Keyword(null,"readOnly","readOnly",-1749118317),true,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"color","color",1011675173),(cljs.core.truth_(cljs.core.deref.call(null,re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"firing?","firing?",-1865348313)], null))))?"red":"green")], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.ships","div.ships",599278968),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.playerShip","div.playerShip",-1163724602),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.vitalityDisplayArea","div.vitalityDisplayArea",-818172997),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.shipVitalityDisplay,playerShields,"Shields"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.shipVitalityDisplay,playerHP,"HP"], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"lasers","lasers",-427107788),new cljs.core.Keyword(null,"playerShip","playerShip",2104484),"Lasers"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"missiles","missiles",-600699149),new cljs.core.Keyword(null,"playerShip","playerShip",2104484),"Missiles"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"shields","shields",-295786721),new cljs.core.Keyword(null,"playerShip","playerShip",2104484),"Shields"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"engines","engines",-2042168255),new cljs.core.Keyword(null,"playerShip","playerShip",2104484),"Engines"], null)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.enemyShip","div.enemyShip",-1356530598),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.vitalityDisplayArea","div.vitalityDisplayArea",-818172997),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.shipVitalityDisplay,enemyShields,"Shields"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.shipVitalityDisplay,enemyHP,"HP"], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"lasers","lasers",-427107788),new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690),"Lasers"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"missiles","missiles",-600699149),new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690),"Missiles"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"shields","shields",-295786721),new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690),"Shields"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.systemButton,new cljs.core.Keyword(null,"engines","engines",-2042168255),new cljs.core.Keyword(null,"enemyShip","enemyShip",-701356690),"Engines"], null)], null)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.actionBar","div.actionBar",1131496771),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.actionButton,new cljs.core.Keyword(null,"lasers","lasers",-427107788),new cljs.core.Keyword(null,"actionFire","actionFire",-1118207098),"Fire Lasers"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.actionButton,new cljs.core.Keyword(null,"missiles","missiles",-600699149),new cljs.core.Keyword(null,"actionLaunch","actionLaunch",657232081),"Launch Missiles"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.actionButton,new cljs.core.Keyword(null,"shields","shields",-295786721),new cljs.core.Keyword(null,"actionChargeShields","actionChargeShields",-339901575),"Charge Shields"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [sonic.views.actionButton,new cljs.core.Keyword(null,"engines","engines",-2042168255),new cljs.core.Keyword(null,"actionFlee","actionFlee",-176341741),"Flee"], null)], null)], null)], null);
});

//# sourceMappingURL=views.js.map?rel=1532452354737
